# HTTP-services API (1.1.14.4)

## Оглавление

[Изменения](#изменения)

- [Общее](#общее)

  - [Доступность сервиса](#доступность-сервиса)

- [Вложения](#вложения)

  - [Отправка файлов](#отправка-файлов)

- [Данные МП](#данные-мп)

  - [Данные новой Торговой точки](#данные-новой-торговой-точки)

  - [Данные нового клиента](#данные-нового-клиента)

  - [Данные нового Договора](#данные-нового-договора)

  - [Дополнительные данные Торговой точки](#дополнительные-данные-торговой-точки)

- [Данные объекта](#данные-объекта)

  - [Данные клиента](#данные-клиента)

- [Заявки МП для согласования](#заявки-мп-для-согласования)

  - [Заявка на согласование](#заявка-на-согласование)

  - [Получить данные заявок на согласование](#получить-данные-заявок-на-согласование)

- [Пользователи](#пользователи)

  - [Первичная авторизация](#первичная-авторизация)

  - [Вторичная авторизация](#вторичная-авторизация)

  - [Роли пользователя МП](#роли-пользователя-мп)

  - [Склады пользователя МП](#склады-пользователя-мп-)

  - [Договоры пользователя](#договоры-пользователя-)

  - [Товары пользователя](#товары-пользователя-)

  - [Остатки пользователя МП](#остатки-пользователя-мп-)

  - [Основные цены пользователя МП](#основные-цены-пользователя-мп-)

  - [Регионы пользователя МП](#регионы-пользователя-мп-)

  - [Обновление токена Push уведомлений](#обновление-токена-push-уведомлений)

- [Списки](#списки)

  - [Каналы продаж](#каналы-продаж)

  - [Модели оборудования](#модели-оборудования)

  - [Регионы](#регионы)

  - [Виды цен](#виды-цен)

  - [Список клиентов](#список-клиентов)

  - [Список клиентов по ИНН, КПП](#список-клиентов-по-инн-кпп)

## Изменения

Изменения в описании отменчены следующим образом (\*)

В версии 1.1.14.4 добавлен новый сервис [Регионы пользователя МП](#регионы-пользователя-мп-).

В версии 1.1.14.3 добавлены новые сервисы [Остатки пользователя МП](#остатки-пользователя-мп-), [Основные цены пользователя МП](#основные-цены-пользователя-мп-).

---

## Общее

---

## Доступность сервиса

### Описание

Предназначен для проверки доступности сервиса.

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/ping
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                             |           Тип            | Обязательный | Описание                          |
| ------------------------------------- | :----------------------: | :----------: | :-------------------------------- |
| [result](#result-доступность-сервиса) | Null, либо данные ответа |      Да      | Не заполняется при ошибке         |
| error                                 |          Строка          |      Да      | Строка описания ошибки            |
| errorCode                             |          Строка          |      Да      | Код ошибки в классификации API    |
| notice                                |          Строка          |      Да      | Текст с дополнительной информации |

#### **result (Доступность сервиса):**

| Параметры |  Тип   | Обязательный | Описание                                      |
| --------- | :----: | :----------: | :-------------------------------------------- |
| text      | Строка |      Да      | Возвращает "Pong" при успешном соединении     |
| ver       | Строка |      Да      | Возвращает строковое представление версии API |

### Пример

**Ответ в формате _JSON_**:

```json
{
  "result": {
    "text": "Pong",
    "ver": "1.1.13.1"
  },
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Вложения

---

## Отправка файлов

### Описание

Предназначен для отправки файлов в 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Files?type={type}&guid={guid}
```

где type (RequestsAgreeDocs - Файлы для заявки на согласование) тип данных для которых передаются файлы, guid - идентификатор объекта данных

Обязательно передавать заголовок: Content-Type: multipart/form-data;

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Files?type=RequestsAgreeDocs&guid=000005
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно, добавлено файлов: 1",
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Данные МП

---

## Данные новой Торговой точки

### Описание

Предназначен для передачи данных новой торговой точки для последующего согласования

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Tradeshops/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                                     |     Тип     | Обязательный | Описание                             |
| --------------------------------------------- | :---------: | :----------: | :----------------------------------- |
| requestID                                     | Строка (36) |      Да      | Идентификатор заявки на согласование |
| [object](#object-данные-новой-торговой-точки) |   Объект    |      Да      | Данные торговой точки                |

#### **object (Данные новой Торговой точки):**

| Параметры   |     Тип      | Обязательный | Описание                                                      |
| ----------- | :----------: | :----------: | :------------------------------------------------------------ |
| uID         | Строка (36)  |      Да      | Идентификатор новой торговой точки или текущей торговой точки |
| regionUid   |  Строка (9)  |      Да      | Идентификатор региона                                         |
| customerUid | Строка (36)  |      Да      | Идентификатор текущего клиента или заявки на согласование     |
| address     |    Строка    |      Да      | Фактический адрес Торговой точки                              |
| latitude    | Строка (10)  |      Да      | Широта (координата адреса точки)                              |
| longitude   | Строка (10)  |      Да      | Долгота (координата адреса точки)                             |
| description | Строка (150) |      Да      | Наименование Торговой точки                                   |
| holdingName | Строка (100) |      Да      | Наименование партнера (холдинг)                               |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Tradeshops/
```

**Тело запроса в формате _JSON_**:

```json
{
  "requestID": "R00000002",
  "object": {
    "uID": "ТТ0003",
    "regionUid": "Регион 1",
    "customerUid": "00-00000001",
    "address": ",446250,Самарская обл...",
    "latitude": "55.76****",
    "longitude": "49.17****",
    "description": "Торговая точка Озон плюс",
    "holdingName": "Холдинг"
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно",
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Данные нового клиента

### Описание

Предназначен для передачи данных нового клиента для последующего согласования

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Customers/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                               |     Тип     | Обязательный | Описание                             |
| --------------------------------------- | :---------: | :----------: | :----------------------------------- |
| requestID                               | Строка (36) |      Да      | Идентификатор заявки на согласование |
| [object](#object-данные-нового-клиента) |   Объект    |      Да      | Данные нового клиента                |

#### **object (Данные нового клиента):**

| Параметры       |     Тип      | Обязательный | Описание                                          |
| --------------- | :----------: | :----------: | :------------------------------------------------ |
| uID             | Строка (36)  |      Да      | Идентификатор нового клиента или текущего клиента |
| name            | Строка (250) |      Да      | Наименование клиента                              |
| holdingUid      | Строка (11)  |      Да      | Код партнера (холдинг)                            |
| holdingName     | Строка (100) |      Да      | Наименование партнера (холдинг)                   |
| shortName       | Строка (100) |      Да      | Наименование партнера                             |
| ownKind         | Строка (100) |      Да      | Форма собственности                               |
| address         |    Строка    |      Да      | Фактический адрес                                 |
| legalAddress    |    Строка    |      Да      | Юридический адрес                                 |
| tin             | Строка (11)  |      Да      | ИНН                                               |
| kpp             |  Строка (9)  |      Да      | КПП                                               |
| ogrn            |    Строка    |      Да      | ОГРН                                              |
| director        | Строка (150) |      Да      | Контактное лицо с должностью Директор             |
| phone           | Строка (20)  |      Да      | Номер телефона директора                          |
| eMail           | Строка (100) |      Да      | Электронная почта директора                       |
| bankName        |    Строка    |      Да      | Банк                                              |
| paymentAccount  |    Строка    |      Да      | Расчетный счет                                    |
| corrAccount     |    Строка    |      Да      | Корр счет                                         |
| bikBank         |    Строка    |      Да      | БИК банка                                         |
| paymentMethodId |    Число     |      Да      | Форма оплаты (1 – безналичный, 2 - наличный)      |
| paymentType     |    Число     |      Да      | Тип оплаты                                        |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Customers/
```

**Тело запроса в формате _JSON_**:

```json
{
  "requestID": "R00000001",
  "object": {
    "uID": "00-00000001",
    "name": "Озон плюс ООО",
    "holdingUid": "",
    "holdingName": "",
    "shortName": "Озон плюс ООО +++",
    "ownKind": "ОАО",
    "address": ",446250,Самарская обл",
    "legalAddress": ",446250,Самарская обл",
    "tin": "63300*****",
    "kpp": "6330*****",
    "ogrn": "",
    "director": "",
    "phone": "",
    "eMail": "",
    "bankName": "",
    "paymentAccount": "",
    "corrAccount": "",
    "bikBank": "",
    "paymentMethodId": 0,
    "paymentType": 0
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно",
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Данные нового Договора

### Описание

Предназначен для передачи данных нового договора для последующего согласования

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Contracts/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                                |     Тип     | Обязательный | Описание                             |
| ---------------------------------------- | :---------: | :----------: | :----------------------------------- |
| requestID                                | Строка (36) |      Да      | Идентификатор заявки на согласование |
| [object](#object-данные-нового-договора) |   Объект    |      Да      | Данные договора                      |

#### **object (Данные нового Договора):**

| Параметры       |     Тип      | Обязательный | Описание                                                   |
| --------------- | :----------: | :----------: | :--------------------------------------------------------- |
| uID             | Строка (36)  |      Да      | Идентификатор нового договора или текущего договора        |
| customerUid     | Строка (36)  |      Да      | Идентификатор клиента                                      |
| paymentMethodId |  Число (1)   |      Да      | Метод оплаты                                               |
| name            | Строка (150) |      Да      | Наименование договора                                      |
| delayPayment    |  Число (1)   |      Да      | Отсрочка платежа, дн.                                      |
| creditLimit     | Число(15,2)  |      Да      | Кредитный лимит                                            |
| debt            | Число(15,2)  |      Да      | Общая задолженность (0 для нового)                         |
| overdueDebt     | Число(15,2)  |      Да      | Сумма просроченной задолженности (0 для нового)            |
| overdueDays     |  Число (5)   |      Да      | Дней просроченной задолженности (0 для нового)             |
| plTypeUid       | Строка (36)  |      Да      | Ключ типа цен                                              |
| active          |  Число (1)   |      Да      | Признак активного                                          |
| availAmount     | Число(15,2)  |      Да      | Доступная сумма с учетом кредитного лимита и задолженности |
| mobileState     |    Число     |      Да      | Всегда 3                                                   |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Tradeshops/
```

**Тело запроса в формате _JSON_**:

```json
{
  "requestID": "R000005",
  "object": {
    "uID": "ТТ0003",
    "customerUid": "00005",
    "paymentMethodId": 1,
    "name": "договор основной",
    "delayPayment": 3,
    "creditLimit": 200000,
    "debt": 0,
    "overdueDebt": 0,
    "overdueDays": 0,
    "plTypeUid": "002",
    "active": 1,
    "availAmount": 0,
    "mobileState": 3
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно",
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Дополнительные данные Торговой точки

### Описание

Предназначен для передачи дополнительных данных Торговой точки

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/TradeshopAdditionals/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                                              |     Тип     | Обязательный | Описание                             |
| ------------------------------------------------------ | :---------: | :----------: | :----------------------------------- |
| requestID                                              | Строка (36) |      Да      | Идентификатор заявки на согласование |
| [object](#object-дополнительные-данные-торговой-точки) |   Объект    |      Да      | Дополнительные данные торговой точки |

#### **object (Дополнительные данные Торговой точки):**

| Параметры              |             Тип             | Обязательный | Описание                                           |
| ---------------------- | :-------------------------: | :----------: | :------------------------------------------------- |
| tradeshopUid           |         Строка (36)         |      Да      | Идентификатор Торговой точки (api/v1/Tradeshops/)  |
| dateCreate             | Дата (строка в формате UTC) |      Да      | Дата заявки/обращения                              |
| datePalanned           | Дата (строка в формате UTC) |      Да      | Планируемая дата движения оборудования             |
| countTS                |          Число (5)          |      Да      | Количество торговых точек                          |
| visitFreq              |          Число (2)          |      Да      | Выбор периодичности посещения                      |
| visitDay               |          Число(2)           |      Да      | Выбор дня визита по маршруту                       |
| reason                 |         Число (100)         |      Да      | Причина                                            |
| description            |        Строка (500)         |      Да      | Описание торговой точки                            |
| place                  |        Строка (500)         |      Да      | Комментарий по местоположению                      |
| currCoffeeSolution     |        Строка (150)         |      Да      | Кофейное решение (на данный момент)                |
| competitor             |        Строка (100)         |      Да      | Конкурент                                          |
| middlePrice            |         Число(15,2)         |      Да      | Средняя цена продажи                               |
| middleCups             |        Число (15,2)         |      Да      | Среднее количество чашек                           |
| assortment             |        Число (15,2)         |      Да      | Ассортимент напитков                               |
| monthAmount            |        Число (15,2)         |      Да      | Анализ ТО в месяц, руб.                            |
| actionPotential        |        Строка (500)         |      Да      | Потенциал действия                                 |
| coffee3in1             |        Строка (150)         |      Да      | Кофе 3 в 1                                         |
| coffee3in1Price        |        Число (15,2)         |      Да      | Цена кофе 3 в 1                                    |
| coffee3in1CupsDay      |          Число (4)          |      Да      | Количество чашек в день                            |
| coffee3in1MonthAmount  |        Число (15,2)         |      Да      | 3 в 1 анализ ТО в месяц, руб.                      |
| actionsToIncrease      |        Cтрока (500)         |      Да      | Действия по увеличению ТО                          |
| risks                  |        Cтрока (500)         |      Да      | Риски                                              |
| competitorsNear        |        Cтрока (150)         |      Да      | Rонкуренты рядом                                   |
| seasonality            |        Cтрока (100)         |      Да      | Сезонность                                         |
| additionalComment      |        Cтрока (500)         |      Да      | Дополнительный комментарий                         |
| totalPotential         |        Число (15,2)         |      Да      | Итоговый потенциальный ТО, руб.                    |
| machineModelUid        |         Число (3,0)         |      Да      | Рекомендуемая модель КМ                            |
| tradeChennelC4CUid     |         Строка (9)          |      Да      | Канал продаж (классификация Нестле С4С)            |
| tradeChennelXCRMUid    |         Строка (9)          |      Да      | Канал продаж (классификация Нестле XCRM)           |
| tradeChennelVendingUid |         Строка (9)          |      Да      | Канал продаж(классификация Энергия:каналы вендинг) |
| storageUid             |         Строка (11)         |      Да      | Склад отгрузки                                     |
| signboard (\*)         |           Строка            |      Да      | Вывеска                                            |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/TradeshopAdditionals/
```

**Тело запроса в формате _JSON_**:

```json
{
  "requestID": "R00000003",
  "object": {
    "tradeshopUid": "ТТ0003",
    "dateCreate": "2022-11-27T12:26:00",
    "datePalanned": "2022-11-30T12:26:00",
    "countTS": 5,
    "visitFreq": 2,
    "visitDay": 1,
    "reason": "Новая",
    "description": "200 кв. м н первой линии",
    "place": "на углу",
    "currCoffeeSolution": "Кофейное решение",
    "competitor": "",
    "middlePrice": 100,
    "middleCups": "",
    "assortment": 5000,
    "monthAmount": "Январь",
    "actionPotential": "Потенциал",
    "coffee3in1": "Кофе 3 в 1",
    "coffee3in1Price": 25,
    "coffee3in1CupsDay": 10,
    "coffee3in1MonthAmount": 500,
    "actionsToIncrease": "Действия по увеличению ТО",
    "risks": "риски",
    "competitorsNear": "конкуренты рядом",
    "seasonality": "Сезонность",
    "additionalComment": "доп комментарий",
    "totalPotential": 15000,
    "machineModelUid": "001",
    "tradeChennelC4CUid": "00000001",
    "tradeChennelXCRMUid": "000000002",
    "tradeChennelVendingUid": "000000003",
    "storageUid": "00000000001",
    "signboard": "вывеска"
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно",
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Данные объекта

---

## Данные клиента

### Описание

Предназначен для получения данных конкретного клиента

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Customers?uID={uID}
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                        |     Тип      | Обязательный | Описание                          |
| -------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-данные-клиента) | Null, Объект |      Да      | Не заполняется при ошибке         |
| error                            | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                        | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                           | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Данные клиента):**

| Параметры       |     Тип      | Обязательный | Описание                                                             |
| --------------- | :----------: | :----------: | :------------------------------------------------------------------- |
| uID             | Строка (11)  |      Да      | Код партнера в 1С                                                    |
| name            | Строка (250) |      Да      | Полное наименование                                                  |
| active          |    Булево    |      Да      | Признак активности (пока всегда Истина, если не помечен на удаление) |
| holdingUid      | Строка (11)  |      Да      | Код партнера (холдинг)                                               |
| holdingName     | Строка (100) |      Да      | Наименование партнера (холдинг)                                      |
| shortName       | Строка (100) |      Да      | Наименование партнера                                                |
| ownKind         | Строка (100) |      Да      | Не заполняется на данный момент (пустая строка)                      |
| address         |    Строка    |      Да      | Фактический адрес                                                    |
| legalAddress    |    Строка    |      Да      | Юридический адрес                                                    |
| tin             | Строка (11)  |      Да      | ИНН                                                                  |
| kpp             |  Строка (9)  |      Да      | КПП                                                                  |
| ogrn            |    Строка    |      Да      | ОГРН                                                                 |
| director        | Строка (150) |      Да      | Контактное лицо с должностью Директор                                |
| phone           | Строка (20)  |      Да      | Номер телефона директора                                             |
| eMail           | Строка (100) |      Да      | Электронная почта директора                                          |
| bankName        |    Строка    |      Да      | Банк                                                                 |
| paymentAccount  |    Строка    |      Да      | Расчетный счет                                                       |
| corrAccount     |    Строка    |      Да      | Корр счет                                                            |
| bikBank         |    Строка    |      Да      | БИК банка                                                            |
| paymentMethodId |    Число     |      Да      | Метод оплаты                                                         |
| paymentType     |    Число     |      Да      | Тип оплаты                                                           |
| mobileState     |    Число     |      Да      | Всегда 3                                                             |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Customers?uID=00-00000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": {
    "uID": "00-00000001",
    "name": "Озон плюс ООО",
    "active": true,
    "holdingUid": "",
    "holdingName": "",
    "shortName": "Озон плюс ООО",
    "ownKind": "",
    "address": ",446250,Самарская обл,",
    "legalAddress": ",446250,Самарская обл,",
    "tin": "63300******",
    "kpp": "633******",
    "ogrn": "",
    "director": "",
    "phone": "",
    "eMail": "",
    "bankName": "",
    "paymentAccount": "",
    "corrAccount": "",
    "bikBank": "",
    "paymentMethodId": 0,
    "paymentType": 0,
    "mobileState": 3
  },
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Заявки МП для согласования

---

## Заявка на согласование

### Описание

Предназначен для запуска процесса согласования данных МП

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Requests/Agree
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                                  |             Тип             | Обязательный | Описание                                                                                                         |
| ------------------------------------------ | :-------------------------: | :----------: | :--------------------------------------------------------------------------------------------------------------- |
| uID                                        |         Строка (36)         |      Да      | Идентификатор заявки в МП                                                                                        |
| userId                                     |         Строка (6)          |      Да      | id пользователя МП в 1С                                                                                          |
| date                                       | Дата (строка в формате UTC) |      Да      | Дата создания заявки в МП                                                                                        |
| type                                       |         Строка (20)         |      Да      | Тип заявки, значения: "НовыйКлиент", "НоваяТорговаяТочка", "НовыйДоговор"                                        |
| status                                     |         Строка (20)         |      Да      | Статус заявки, значения: "В работе", "Передан на согласование", "На согласовании", "Согласован", "Не согласован" |
| [objects](#objects-заявка-на-согласование) |           Массив            |      Да      | Массив объектов                                                                                                  |

#### **objects (Заявка на согласование):**

| Параметры |     Тип     | Обязательный | Описание                                                                           |
| --------- | :---------: | :----------: | :--------------------------------------------------------------------------------- |
| uID       | Строка (36) |      Да      | Идентификатор объекта (новый клиент, новая торговая точка, клиент, торговая точка) |
| type      | Строка (20) |      Да      | Тип объекта, значения: "Клиент","ТорговаяТочка", "Договор"                         |
| deleted   |   Булево    |      Да      | Истина, если удалили из заявки объект                                              |
| comment   |   Строка    |      Да      | Комментарий к объекту в заявке                                                     |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Requests/Agree
```

**Тело запроса в формате _JSON_**:

```json
{
  "uID": "R000005",
  "userId": "000001",
  "date": "2022-11-27T12:26:00",
  "type": "НовыйКлиент",
  "status": "Передан на согласование",
  "objects": [
    {
      "uID": "000005",
      "type": "Клиент",
      "deleted": false,
      "comment": ""
    },
    {
      "uID": "T000001",
      "type": "ТорговаяТочка",
      "deleted": true,
      "comment": ""
    },
    {
      "uID": "T000002",
      "type": "ТорговаяТочка",
      "deleted": true,
      "comment": ""
    }
  ]
}
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно (с предупреждениями)",
  "error": null,
  "errorCode": null,
  "notice": "Объект с идентификатором uID (T000001) не найден\nОбъект с идентификатором uID (T000002) не найден"
}
```

---

## Получить данные заявок на согласование

### Описание

Предназначен для получения состояния согласования заявок для пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Requests/Agree/forUser?userId={userId}
```

где userId id пользователя МП в 1С

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                                |           Тип            | Обязательный | Описание                          |
| -------------------------------------------------------- | :----------------------: | :----------: | :-------------------------------- |
| [result](#result-получить-данные-заявок-на-согласование) | Null, либо данные ответа |      Да      | Не заполняется при ошибке         |
| error                                                    |       Null, Строка       |      Да      | Строка описания ошибки            |
| errorCode                                                |       Null, Строка       |      Да      | Код ошибки в классификации API    |
| notice                                                   |       Null, Строка       |      Да      | Текст с дополнительной информации |

#### **result (Получить данные заявок на согласование):**

| Параметры |     Тип     | Обязательный | Описание                                                                                                         |
| --------- | :---------: | :----------: | :--------------------------------------------------------------------------------------------------------------- |
| uID       |   Строка    |      Да      | Идентификатор заявки                                                                                             |
| status    | Строка(150) |      Да      | Статус заявки, значения: "В работе", "Передан на согласование", "На согласовании", "Согласован", "Не согласован" |
| comment   | Строка(50)  |      Да      | Комментарий для пользователя МП                                                                                  |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Requests/Agree/forUser?userId=000099
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "R0000001",
      "status": "На согласовании",
      "comment": ""
    },
    {
      "uID": "R0000002",
      "status": "Согласован",
      "comment": ""
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Пользователи

---

## Первичная авторизация

### Описание

Предназначен для первичной авторизации пользователя

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/users/login/first?AuthCode={AuthCode}
```

где AuthCode уникальный код аутентификации

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                               |           Тип            | Обязательный | Описание                          |
| --------------------------------------- | :----------------------: | :----------: | :-------------------------------- |
| [result](#result-первичная-авторизация) | Null, либо данные ответа |      Да      | Не заполняется при ошибке         |
| error                                   |       Null, Строка       |      Да      | Строка описания ошибки            |
| errorCode                               |       Null, Строка       |      Да      | Код ошибки в классификации API    |
| notice                                  |       Null, Строка       |      Да      | Текст с дополнительной информации |

#### **result (Первичная авторизация):**

| Параметры |    Тип    | Обязательный | Описание                |
| --------- | :-------: | :----------: | :---------------------- |
| login     |  Строка   |      Да      | Имя пользователя 1С     |
| pass      |  Строка   |      Да      | Пароль                  |
| uid       | Строка(6) |      Да      | id пользователя МП в 1С |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/users/login/first?AuthCode=607839
```

**Ответ в формате _JSON_**:

```json
{
  "result": {
    "login": "Tech 1",
    "pass": "Pass",
    "uid": "000099"
  },
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Вторичная авторизация

### Описание

Предназначен для вторичной (постоянной) авторизации пользователя

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/users/login?userId={userId}
```

где userId id пользователя МП в 1С

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                               |           Тип            | Обязательный | Описание                          |
| --------------------------------------- | :----------------------: | :----------: | :-------------------------------- |
| [result](#result-вторичная-авторизация) | Null, либо данные ответа |      Да      | Не заполняется при ошибке         |
| error                                   |       Null, Строка       |      Да      | Строка описания ошибки            |
| errorCode                               |       Null, Строка       |      Да      | Код ошибки в классификации API    |
| notice                                  |       Null, Строка       |      Да      | Текст с дополнительной информации |

#### **result (Вторичная авторизация):**

| Параметры   |                       Тип                        | Обязательный | Описание                                                                           |
| ----------- | :----------------------------------------------: | :----------: | :--------------------------------------------------------------------------------- |
| uId         |                      Строка                      |      Да      | id пользователя МП в 1С                                                            |
| name        |                   Строка(150)                    |      Да      | Имя пользователя МП                                                                |
| userName    |                    Строка(50)                    |      Да      | ФИО физ. лица                                                                      |
| phone       |                      Строка                      |      Да      | Номер телефона                                                                     |
| dateStart   | Дата и время без смещения (строка в формате UTC) |      Да      | Активен С                                                                          |
| dateEnd     | Дата и время без смещения (строка в формате UTC) |      Да      | Активен По (может быть пустой датой 0001-01-01T00:00:00 - значит срок неограничен) |
| utcDateTime | Дата и время без смещения (строка в формате UTC) |      Да      | Текущее время                                                                      |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/users/login?userId=000099
```

**Ответ в формате _JSON_**:

```json
{
  "result": {
    "uId": "000001",
    "name": "Лугачёва Ю.В.",
    "userName": "Лугачёва Юлия Владимировна",
    "phone": "+79646600636",
    "dateStart": "2022-10-19T00:00:00",
    "dateEnd": "2022-10-28T00:00:00",
    "utcDateTime": "2022-10-19T14:28:37"
  },
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Роли пользователя МП

### Описание

Предназначен для получения списка ролей пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/usersRoles/forUser?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                              |     Тип      | Обязательный | Описание                          |
| -------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-роли-пользователя-мп) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                  | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                              | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                 | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Роли пользователя МП):**

| Параметры |    Тип     | Обязательный | Описание                   |
| --------- | :--------: | :----------: | :------------------------- |
| userUid   | Строка (6) |      Да      | Идентификатор пользователя |
| roleId    | Число(2,0) |      Да      | Код роли в 1С              |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/usersRoles/forUser?userId=000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "userUid": "000001",
      "roleId": 4
    },
    {
      "userUid": "000001",
      "roleId": 1
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Склады пользователя МП (\*)

### Описание

Предназначен для получения списка складов пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/storages/forUser/?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                |     Тип      | Обязательный | Описание                          |
| ---------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-склады-пользователя-мп) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                    | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                                | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                   | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Склады пользователя МП):**

| Параметры |     Тип     | Обязательный | Описание                 |
| --------- | :---------: | :----------: | :----------------------- |
| uID       | Строка (11) |      Да      | Код склада в 1С          |
| name      | Строка (50) |      Да      | Наименование склада в 1С |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/storages/forUser/?userId=000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "У0079      ",
      "name": "СкладВычерковКраснодар"
    },
    {
      "uID": "У0083      ",
      "name": "СкладТранзитныйКраснодар"
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Договоры пользователя (\*)

### Описание

Предназначен для получения списка договоров пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Contracts/forUser/?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                               |     Тип      | Обязательный | Описание                          |
| --------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-договоры-пользователя) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                   | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                               | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                  | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Договоры пользователя):**

| Параметры       |     Тип      | Обязательный | Описание                                                                                                                                                  |
| --------------- | :----------: | :----------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------- |
| uID             | Строка (36)  |      Да      | Идентификатор договора                                                                                                                                    |
| customerUid     |    Строка    |      Да      | Код партнера                                                                                                                                              |
| paymentMethodId |    Число     |      Да      | Форма оплаты (1 - Наличная, 2 - Безналичная, 3 - ПлатежнаяКарта, 4 - Взаимозачет, 5 - БонусныеБаллы, 6 - ПодарочныйСертификат, 0 - не удалось определить) |
| name            |    Строка    |      Да      | Наименование договора                                                                                                                                     |
| delayPayment    |    Число     |      Да      | Макс. число дней отсрочки                                                                                                                                 |
| creditLimit     | Число (15,2) |      Да      | Сумма кредитного лимита                                                                                                                                   |
| debt            | Число (15,2) |      Да      | Дебиторская задолженность                                                                                                                                 |
| overdueDebt     | Число (15,2) |      Да      | Просроченная дебиторская задолженность                                                                                                                    |
| overdueDays     |    Число     |      Да      | Макс. количество дней просроченной дебиторской задолженности                                                                                              |
| plTypeUid       | Строка (36)  |      Да      | Идентификатор вида цены                                                                                                                                   |
| active          |    Число     |      Да      | Всегда 1                                                                                                                                                  |
| availAmount     | Число (15,2) |      Да      | Макс. значение между (creditLimit - debt) и 0                                                                                                             |
| mobileState     |    Число     |      Да      | Всегда 3                                                                                                                                                  |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Contracts/forUser?userId=000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "82a1dfa4-ccff-11ec-84b2-00a15c010a2c",
      "customerUid": "00-00000949",
      "paymentMethodId": 2,
      "name": "Договор поставки 8020022/0445Д от 01.05.2022",
      "delayPayment": 40,
      "creditLimit": 4475879.5,
      "debt": -94912.68,
      "overdueDebt": -94912.68,
      "overdueDays": 0,
      "plTypeUid": "2d78ec47-90fc-11ec-80c5-3640b588c99b",
      "active": 1,
      "availAmount": 4475879.5,
      "mobileState": 3
    },
    {
      "uID": "e2d6a274-d0fc-11ec-84b2-00a15c010a2c",
      "customerUid": "00-00000847",
      "paymentMethodId": 1,
      "name": "Договор поставки 5/СРВ22 от 11.05.2022",
      "delayPayment": 14,
      "creditLimit": 52822.51,
      "debt": 0,
      "overdueDebt": 0,
      "overdueDays": 0,
      "plTypeUid": "187bb9c2-91ae-11ec-80c5-3640b588c99b",
      "active": 1,
      "availAmount": 52822.51,
      "mobileState": 3
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Товары пользователя (\*)

### Описание

Предназначен для получения списка товаров пользователя

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/products/forUser?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                             |     Тип      | Обязательный | Описание                          |
| ------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-товары-пользователя) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                 | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                             | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Товары пользователя):**

| Параметры  |  Тип   | Обязательный | Описание                                            |
| ---------- | :----: | :----------: | :-------------------------------------------------- |
| article    | Строка |      Да      | Артикул                                             |
| inCase     | Число  |      Да      | Штук в коробке                                      |
| nds        | Число  |      Да      | НДС (-1 без НДС)                                    |
| eanUnit    | Строка |      Да      | Штрихкоды (через запятую)                           |
| name       | Строка |      Да      | Наименование                                        |
| shortName  | Строка |      Да      | Краткое наименование                                |
| parentCode | Строка |      Да      | Код родительской группы                             |
| analogue   | Строка |      Да      | Аналоги (пока не заполняется, всегда пустая строка) |
| position   | Число  |      Да      | Всегда 1                                            |
| active     | Число  |      Да      | Всегда 1                                            |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/products/forUser?userId=000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "article": "000000000000042077",
      "inCase": 0,
      "nds": 20,
      "eanUnit": "",
      "name": "Чай \"Ahmad Tea\"Professional ЭрлГрей 20х5г",
      "shortName": "Чай \"Ahmad Tea\"Professional ЭрлГрей 20х5г",
      "parentCode": "UT-00002004",
      "analogue": "",
      "position": 1,
      "active": 1
    },
    {
      "article": "000000000000048401",
      "inCase": 10,
      "nds": 20,
      "eanUnit": "4850009990217,4850009991375",
      "name": "NESTLE ALEGRIA КакаоНапитРаст10x1кгP15XE",
      "shortName": "NESTLE ALEGRIA КакаоНапитРаст10x1кгP15XE",
      "parentCode": "00-00000867",
      "analogue": "",
      "position": 1,
      "active": 1
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Остатки пользователя МП (\*)

### Описание

Предназначен для получения остатков пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/stocks/forUser/?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                 |     Тип      | Обязательный | Описание                          |
| ----------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-остатки-пользователя-мп) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                     | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                                 | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                    | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Остатки пользователя МП):**

| Параметры  |  Тип   | Обязательный | Описание             |
| ---------- | :----: | :----------: | :------------------- |
| storageUid | Строка |      Да      | Код склада в 1С      |
| article    | Строка |      Да      | Артикул номенклатуры |
| quantity   | Число  |      Да      | Остаток              |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/stocks/forUser/?userId=000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "storageUid": "У0083",
      "article": "UT-00002707",
      "quantity": 150
    },
    {
      "storageUid": "У0083",
      "article": "UT-00002782",
      "quantity": 120
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Основные цены пользователя МП (\*)

### Описание

Предназначен для получения основных цен пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/priceLists/forUser/?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                       |     Тип      | Обязательный | Описание                          |
| ----------------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-основные-цены-пользователя-мп) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                           | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                                       | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                          | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Основные цены пользователя МП):**

| Параметры |  Тип   | Обязательный | Описание                |
| --------- | :----: | :----------: | :---------------------- |
| plTypeUid | Строка |      Да      | Идентификатор вида цены |
| article   | Строка |      Да      | Артикул номенклатуры    |
| price     | Число  |      Да      | Цена                    |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/priceLists/forUser/?userId=000001
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "plTypeUid": "1e741117-91ae-11ec-80c5-3640b588c99b",
      "article": "000000000000030161",
      "price": 1.24
    },
    {
      "plTypeUid": "9b569f72-6329-11ec-80c5-3640b588c99b",
      "article": "000000000000039929",
      "price": 366.67
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Регионы пользователя МП (\*)

### Описание

Предназначен для получения регионов пользователя МП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/regions/forUser/?userId={userId}
```

где userId идентификатор пользователя

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                 |     Тип      | Обязательный | Описание                          |
| ----------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-регионы-пользователя-мп) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                     | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                                 | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                    | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Регионы пользователя МП):**

| Параметры   |     Тип     | Обязательный | Описание          |
| ----------- | :---------: | :----------: | :---------------- |
| uID         |  Строка(9)  |      Да      | Код в 1С          |
| description | Строка(150) |      Да      | Наименование в 1С |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/regions/forUser/?userId=000002
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "000000087",
      "description": "Регион 1"
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Обновление токена Push уведомлений

### Описание

Предназначен для обновление токена Push уведомлений

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/FCMTokens
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры  |     Тип      | Обязательный | Описание                 |
| ---------- | :----------: | :----------: | :----------------------- |
| userUid    |  Строка (6)  |      Да      | Код пользователя МП в 1С |
| token      | Строка (500) |      Да      | Токен                    |
| deviceInfo | Строка (500) |      Да      | Информация о устройстве  |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/FCMTokens
```

**Тело запроса в формате _JSON_**:

```json
{
  "userUid": "000005",
  "token": "Токен",
  "deviceInfo": ""
}
```

**Ответ в формате _JSON_**:

```json
{
  "result": "Выполнено успешно",
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Списки

---

## Каналы продаж

### Описание

Предназначен для получения списка каналов продаж

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/TradeChannels/
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                       |     Тип      | Обязательный | Описание                          |
| ------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-каналы-продаж) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                           | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                       | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                          | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Каналы продаж):**

| Параметры   |     Тип     | Обязательный | Описание                 |
| ----------- | :---------: | :----------: | :----------------------- |
| uID         |  Строка(9)  |      Да      | Код в 1С                 |
| name        | Строка(50)  |      Да      | Наименование в 1С        |
| description | Строка(500) |      Да      | Описание в 1С            |
| type        | Строка (50) |      Да      | Наименование вида канала |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/TradeChannels/
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "200002",
      "name": "200002",
      "description": "",
      "type": "XCRM"
    },
    {
      "uID": "200003",
      "name": "кафе/рестораны",
      "description": "",
      "type": "XCRM"
    },
    {
      "uID": "800002",
      "name": "АЗС",
      "description": "",
      "type": "Энергия"
    },
    {
      "uID": "800003",
      "name": "отели, гостиницы",
      "description": "",
      "type": "Энергия"
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Модели оборудования

### Описание

Предназначен для получения списка моделей оборудования

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/machineModels
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                             |     Тип      | Обязательный | Описание                          |
| ------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-модели-оборудования) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                 | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                             | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Модели оборудования):**

| Параметры   |     Тип     | Обязательный | Описание          |
| ----------- | :---------: | :----------: | :---------------- |
| uID         | Число(3,0)  |      Да      | Код в 1С          |
| description | Строка(150) |      Да      | Наименование в 1С |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/machineModels
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": 1,
      "description": "Модель 1"
    },
    {
      "uID": 2,
      "description": "Модель 2"
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Регионы

### Описание

Предназначен для получения списка регионов

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/regions
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                 |     Тип      | Обязательный | Описание                          |
| ------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-регионы) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                     | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                 | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                    | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Регионы):**

| Параметры   |     Тип     | Обязательный | Описание          |
| ----------- | :---------: | :----------: | :---------------- |
| uID         |  Строка(9)  |      Да      | Код в 1С          |
| description | Строка(150) |      Да      | Наименование в 1С |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/regions
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "000000001",
      "description": "Регион 1"
    },
    {
      "uID": "000000002",
      "description": "Регион 2"
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Виды цен (\*)

### Описание

Предназначен для получения списка видов цен

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/PLTypes
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                  |     Тип      | Обязательный | Описание                          |
| -------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-виды-цен) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                      | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                  | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                     | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Виды цен):**

| Параметры |     Тип     | Обязательный | Описание                |
| --------- | :---------: | :----------: | :---------------------- |
| uID       | Строка (36) |      Да      | Идентификатор вида цены |
| plName    |   Строка    |      Да      | Наименование вида цены  |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/PLTypes
```

**Ответ в формате _JSON_**:

```json
{
  "result": {
    "List": [
      {
        "uID": "7a21baea-91ad-11ec-80c5-3640b588c99b",
        "plName": "Автосоюз Трейд ООО"
      },
      {
        "uID": "1e741108-91ae-11ec-80c5-3640b588c99b",
        "plName": "Абдуллина Рамиля Гумаровна ИП"
      }
    ]
  },
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Список клиентов

### Описание

Предназначен для получения списка клиентов с заголовками данных

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Customers/List
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                         |     Тип      | Обязательный | Описание                          |
| --------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-список-клиентов) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                             | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                         | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                            | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Список клиентов):**

| Параметры   |     Тип      | Обязательный | Описание                                                             |
| ----------- | :----------: | :----------: | :------------------------------------------------------------------- |
| uID         | Строка (11)  |      Да      | Код партнера в 1С                                                    |
| name        | Строка (250) |      Да      | Полное наименование                                                  |
| active      |    Булево    |      Да      | Признак активности (пока всегда Истина, если не помечен на удаление) |
| holdingUid  | Строка (11)  |      Да      | Код партнера (холдинг)                                               |
| holdingName | Строка (100) |      Да      | Наименование партнера (холдинг)                                      |
| shortName   | Строка (100) |      Да      | Наименование партнера                                                |
| mobileState |    Число     |      Да      | Всегда 3                                                             |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Customers/List
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "00-00000001",
      "name": "Озон плюс ООО",
      "active": true,
      "holdingUid": "",
      "holdingName": "",
      "shortName": "Озон плюс ООО",
      "mobileState": 3
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---

## Список клиентов по ИНН, КПП

### Описание

Предназначен для получения списка клиентов с отбором по ИНН и КПП

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/api/v1/Customers/CheckTIN?tin={tin}&kpp={kpp}
```

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                    |     Тип      | Обязательный | Описание                          |
| -------------------------------------------- | :----------: | :----------: | :-------------------------------- |
| [result](#result-список-клиентов-по-инн-кпп) | Null, Массив |      Да      | Не заполняется при ошибке         |
| error                                        | Null, Строка |      Да      | Строка описания ошибки            |
| errorCode                                    | Null, Строка |      Да      | Код ошибки в классификации API    |
| notice                                       | Null, Строка |      Да      | Текст с дополнительной информации |

#### **result (Список клиентов по ИНН, КПП):**

| Параметры       |     Тип      | Обязательный | Описание                                                             |
| --------------- | :----------: | :----------: | :------------------------------------------------------------------- |
| uID             | Строка (11)  |      Да      | Код партнера в 1С                                                    |
| name            | Строка (250) |      Да      | Полное наименование                                                  |
| active          |    Булево    |      Да      | Признак активности (пока всегда Истина, если не помечен на удаление) |
| holdingUid      | Строка (11)  |      Да      | Код партнера (холдинг)                                               |
| holdingName     | Строка (100) |      Да      | Наименование партнера (холдинг)                                      |
| shortName       | Строка (100) |      Да      | Наименование партнера                                                |
| ownKind         | Строка (100) |      Да      | Не заполняется на данный момент (пустая строка)                      |
| address         |    Строка    |      Да      | Фактический адрес                                                    |
| legalAddress    |    Строка    |      Да      | Юридический адрес                                                    |
| tin             | Строка (11)  |      Да      | ИНН                                                                  |
| kpp             |  Строка (9)  |      Да      | КПП                                                                  |
| ogrn            |    Строка    |      Да      | ОГРН                                                                 |
| director        | Строка (150) |      Да      | Контактное лицо с должностью Директор                                |
| phone           | Строка (20)  |      Да      | Номер телефона директора                                             |
| eMail           | Строка (100) |      Да      | Электронная почта директора                                          |
| bankName        |    Строка    |      Да      | Банк                                                                 |
| paymentAccount  |    Строка    |      Да      | Расчетный счет                                                       |
| corrAccount     |    Строка    |      Да      | Корр счет                                                            |
| bikBank         |    Строка    |      Да      | БИК банка                                                            |
| paymentMethodId |    Число     |      Да      | Метод оплаты                                                         |
| paymentType     |    Число     |      Да      | Тип оплаты                                                           |
| mobileState     |    Число     |      Да      | Всегда 3                                                             |

### Пример

**_URL_**:

```html
https://server.ru/api/v1/Customers/CheckTIN?tin=633008****&kpp=63300****
```

**Ответ в формате _JSON_**:

```json
{
  "result": [
    {
      "uID": "00-00000001",
      "name": "Озон плюс ООО",
      "active": true,
      "holdingUid": "",
      "holdingName": "",
      "shortName": "Озон плюс ООО",
      "ownKind": "",
      "address": ",446250,Самарская обл,",
      "legalAddress": ",446250,Самарская обл,",
      "tin": "633008****",
      "kpp": "63300****",
      "ogrn": "",
      "director": "",
      "phone": "",
      "eMail": "",
      "bankName": "",
      "paymentAccount": "",
      "corrAccount": "",
      "bikBank": "",
      "paymentMethodId": 0,
      "paymentType": 0,
      "mobileState": 3
    }
  ],
  "error": null,
  "errorCode": null,
  "notice": null
}
```

---
